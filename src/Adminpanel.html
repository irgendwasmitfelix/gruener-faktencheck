<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Artikel Admin Generator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f8f8f8; padding: 2em; }
    .container { max-width: 600px; margin: auto; background: #fff; padding: 2em; border-radius: 12px; box-shadow: 0 4px 16px rgba(33,124,59,0.08);}
    h1 { color: #217c3b; text-align: center; }
    label { display: block; margin-top: 1em; }
    input, select { width: 100%; padding: 0.5em; margin-top: 0.2em; }
    button { margin-top: 1em; padding: 0.5em 1em; background: #217c3b; color: #fff; border: none; border-radius: 6px; cursor: pointer; }
    textarea { width: 100%; height: 120px; margin-top: 1em; }
    .article-list { margin-top: 2em; }
    .article-item { background: #eafbe7; margin-bottom: 0.5em; padding: 0.5em; border-radius: 6px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Artikel-Generator (offline)</h1>
    <label>Kategorie:
      <select id="category">
        <option value="Allgemein">Allgemein</option>
        <option value="Wirtschaft">Wirtschaft</option>
        <option value="Außenpolitik">Außenpolitik</option>
      </select>
    </label>
    <label>Titel:
      <input type="text" id="title" />
    </label>
    <label>URL:
      <input type="text" id="url" />
    </label>
    <button onclick="addArticle()">Artikel hinzufügen</button>
    <div class="article-list" id="articleList"></div>
    <label>JSON für articles.js:</label>
    <textarea id="output" readonly></textarea>
  </div>
  <script>
    const articles = {
      "Allgemein": [],
      "Wirtschaft": [],
      "Außenpolitik": []
    };

    function addArticle() {
      const cat = document.getElementById('category').value;
      const title = document.getElementById('title').value.trim();
      const url = document.getElementById('url').value.trim();
      if (!title || !url) return alert("Bitte Titel und URL eingeben!");
      articles[cat].push({ title, url });
      document.getElementById('title').value = '';
      document.getElementById('url').value = '';
      renderArticles();
      renderOutput();
    }

    function renderArticles() {
      const list = document.getElementById('articleList');
      list.innerHTML = '';
      Object.entries(articles).forEach(([cat, arr]) => {
        if (arr.length) {
          const catDiv = document.createElement('div');
          catDiv.innerHTML = `<strong>${cat}</strong>`;
          arr.forEach(a => {
            const item = document.createElement('div');
            item.className = 'article-item';
            item.textContent = a.title + " (" + a.url + ")";
            catDiv.appendChild(item);
          });
          list.appendChild(catDiv);
        }
      });
    }

    function renderOutput() {
    // Zeigt nur den zuletzt hinzugefügten Artikel als JSON
    const cat = document.getElementById('category').value;
    const arr = articles[cat];
    if (arr.length) {
      document.getElementById('output').value =
        JSON.stringify(arr[arr.length - 1], null, 2);
    } else {
      document.getElementById('output').value = "";
    }
  }
  </script>
</body>
</html>